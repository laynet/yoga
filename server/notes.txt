
**MIDDLEWARE**
anything you can do with a routehandler you can do with a middleware
gotta use next in arg/param and then use next function in function to pass off to next middleware or routehandler
3rd party middleware (i.e. morgan) doesn't need next called, already configured

MORGAN - app.use(morgan("tiny" || "dev"))

NEVER USE STRING INTERPOLATION - will make you vulnerable to sql injection attacks
const results = await db.query("SELECT * FROM asanas WHERE ID=$1", [req.params.id])
$# is a place holder, so $2 , you would pass in a second parameter like [req.params.id], [second parameter to match $2]

ERROR
i get an error after hitting add button, but it actually saves to the DB after I refresh page and it also displays
I screenshotted the error






ADD ASANA from tutotial that i deleted after adding asanacard
import React, { useContext, useState } from 'react'
import AsanaFinder from "../apis/AsanaFinder"
import { AsanasContext } from '../context/AsanasContext'


function AddAsana() {
    const {addAsanas} = useContext(AsanasContext)
    const [englishName, setEnglishName] = useState("")
    const [sanskritName, setSanskritName] = useState("")

    const handleSubmit = async (e) =>{
        e.preventDefault()
        try{
            // back end expects underscore in name, from end expects camelcase
            const response = await AsanaFinder.post("/", {
                english_name: englishName,
                sanskrit_name: sanskritName
            })
           
            addAsanas(response.data.data.asanas)
            
            
        } catch(err){
            console.log(err)
        }
    }

    return (
        <div className="mb-4">
            <h1>need to turn this into a search bar i guess</h1>
          <form action="">
              <div className="form-row">
                  <div className="col">
                      <input value={englishName} onChange={e => setEnglishName(e.target.value)} type="text" className="form-control" placeholder="english name"/>
                  </div>
                  <div className="col">
                      <input value={sanskritName} onChange={e => setSanskritName(e.target.value)} type="text" className="form-control" placeholder="sanskrit name"/>
                  </div>
              
                  <button onClick={handleSubmit} type="submit" className="btn btn-primary">Add Asana</button>
              </div>
              </form>  
        </div>
    )
}

export default AddAsana
